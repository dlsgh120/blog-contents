# react-router 간단히 사용해보기

## 개요

이번 포스트는 React 웹 어플리케이션을 개발할때, Client 사이드 라우팅을 위해 사용되는 리액트 라우터에 대해 알아보겠습니다.
라우팅에 대해 알아보기전 SPA(Single Page Application) 에 대한 개념을 짚고 넘어갈 필요가 있습니다.

## SPA(Single Page Application) 이란?

단일 페이지 어플리케이션(SPA)는 모던 웹 패러다임 입니다. 기존의 웹사이트는 여러개의 html 파일로 구성되어 (a.html, b.html, c.html .....), 서버로 부터 요청하는 html 파일을 받아 화면에 구성되었습니다. 또한, 페이지를 요청할때마다, 서버로 부터 받아오기 때문에, 페이지가 매번 새로고침 되었습니다.
이에 반면에 SPA는 한개의 HTML로 구성되어있습니다.
그리고, 한개의 페이지를 받아온 후, 서버에 요청을 하는 것이아닌, 새 페이지에 필요한 데이터만 받아와 화면을 구성하기에, 렌더링이 됩니다.

### SPA의 장점

1. VIEW 렌더링을 사용자 브라우저가 담당합니다. 페이지 이동 시, 서버로부터 요청을 하지않아 서버의 부담을 줄일 수 있다.
2. 화면 전체를 렌더링 하는 것이 아닌, 필요한 부분만 받아 렌더링 하기 때문에 화면 전환이 빠르다.
3. 유저 입장에서 사용하기 편리하며, 더 좋은 경험을 제공.

### SPA 단점

1. 앱의 규모가 커질수록 javascript 파일이 커지며, javascript 파일을 불러오기전 까지, 로딩시간이 발생할 수 있음.
2. 또한, 한번에 파일을 불러오기 때문에, 필요하지 않는 데이터도 모두 불러오기 때문에 비효율적 이다.
   (Code Splitting -코드분할 로 파일을 분리 시켜, 필요한 파일만 불러 올 수 있음)
3. SEO(검색 엔진 최적화) 취약
   (javascript를 실행하지 않으면, 크롤링 불가능하며, 검색엔진의 결과에 나타나지 않을 수 있다.)

이와 같이 SPA의 개념 및 장단점에 대해 알아보았습니다.
이제 리액트로 SPA를 구현하기 위해, 다른 경로에 따른 화면을 보여주기 위한 라우팅에 대해 알아보겠습니다.

## Routing

라우팅이란 다른 경로(주소)에 따른 화면을 보여 주는 것 입니다. 리액트 자체에는 이러한 라우팅 기능이 내장되어 있지않아, 가장 보편적인 react-router-dom을 추가하여 라우팅을 구현해야 합니다.

라우팅 기능을 구현하기 위해 첫번째로 아래와 같이 react-router-dom 을 설치해야 합니다.

```js
npm install react-router-dom --save
```

설치가 완료 되었으면, react-router-dom의 세부적인 기능에 대해 간단히 짚고 코드에 적용해 보겠습니다.

- **BrowserRouter** - HTML5의 history API를 이용하여 URL과 UI를 동기화 하는 라우터 입니다.
- **Route** - 컴포넌트의 속성에 설정된 URL에 해당하는 컴포넌트를 렌더링 합니다.
- **Link** - html의 a 태그와 비슷합니다. Link가 a태그와 다른점은 href이 아닌 to 속성에 설정된 링크로 이동되며, 기록이 history 스택에 저장됩니다.
- **Switch** - path의 충돌이 일어나지 않게 Route들을 관리합니다.
  Switch 내부에 Route들을 넣으면, 요청에 의해 매칭되는 Route 들이 다수 있을때, 제일 처음 매칭되는 Route만 선별하기 때문에 충돌 오류를 방지 해 줍니다.
  path와 매칭되는 Route가 없을때에 맨 밑 default 실행이 보장됩니다.

## react-router 적용하기

react-router-dom 설치가 완료 되었다면 준비는 끝났습니다.
이번 포스팅에서 만들 라우터는 3가지 입니다.

- **/** 경로일때, Home 컴포넌트를 보여줍니다.
- **/about** 경로일때, About 컴포넌트를 보여줍니다.
- **/posts** 경로일때, Post 컴포넌트를 보여줍니다.

다음과 같은 라우트 컴포넌트는 src/components 내부에 구성하였습니다.
또한, 라우트 컴포넌트를 만들기 전, 이동할 url을 화면으로 보여줄 Header컴포넌트를 만들어 보겠습니다.
